<vex-page-layout>
  <vex-page-layout-header class="pb-16" fxLayout="column" fxLayoutAlign="center start">
    <div class="flex flex-col justify-between w-full sm:flex-row">
      <div>
        <h1 class="mt-0 mb-1 title">Transactions Details</h1>
        <vex-breadcrumbs [crumbs]="['Dashboard', 'Transactions', 'Transaction-details']"></vex-breadcrumbs>
      </div>
    </div>
  </vex-page-layout-header>

  <vex-page-layout-content [class.container]="true" [class.px-gutter]="true" class="-mt-16">

    <div class="grid grid-flow-col grid-rows-2">
      <div class="col-span ">
        <div class="container">
          <div class="bg-white border dark:bg-opacity-0">
            <div class="p-4">
              <p class="text-xs font-thin dark:text-white">
                <span>
                  <ic-icon class=" icInfo" [icIcon]="icInfo" size="20px"></ic-icon>
                </span> This transaction can only be cancelled by you
              </p>
              <p class="text-xs font-thin ">
                <span>
                  <ic-icon class=" icInfo" [icIcon]="icInfo" size="20px"></ic-icon>
                </span>
                Customer must acknowledge receipt of goods with the delivery code this will
                release the money to your
                account
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="row-span-2 col-span ">
        <div class="container ">
          <div class="bg-white border">
            <div class="p-12">
              <div class="grid grid-cols-5 grid-rows-2 gap-4 grid-flow-col-5 article">
                <div>item</div>
                <div>Item name</div>
                <div> Desription</div>
                <div>Quantity </div>
                <div>Total</div>
                <div>DH452</div>
                <div>Laptop</div>
                <div>Laptop</div>
                <div>5</div>
                <div>450.00</div>
              </div>
              <hr>
              <div class="grid grid-cols-5 grid-rows-2 gap-4 grid-flow-col-5 total">
                <div class="amount">
                  <h5>AMOUNT IN ESCROW</h5>
                </div>
                <div></div>
                <div></div>
                <div></div>
                <div class="somme">
                  <h5>450.00 GHS</h5>
                </div>

              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="row-span-3 ...">
        <div class="container">
          <div class="w-64 bg-white border card1">
            <div class="p-4">
              <div class="grid grid-cols-3 gap-4 row1 grid-rows grid-flow-col-3">
                <div><img src="assets\img\demo\0.jpg" alt=""></div>
                <div>
                  <h6 class="user-name">Dady Ismael</h6>
                </div>
                <div>
                  <h6 class="cancel">Cancel</h6>
                </div>
              </div>
              <div class="grid grid-cols-2 address grid-rows grid-flow-col-3">
                <div><ic-icon [icIcon]="icMap" size="20px"></ic-icon></div>
                <div>
                  <h6>24, Gvr Street, Wc building 1st floor</h6>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-4 phone-number grid-rows grid-flow-col-3">
                <div>  <ic-icon [icIcon]="icPhone" size="20px"></ic-icon></div>
                <div>
                  <h6>+233544990518</h6>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-4 email-address grid-rows grid-flow-col-3">
                <div> <ic-icon [icIcon]="icEmail" size="20px"></ic-icon></div>
                <div>
                  <h6>dorgeleskoble@gmail.com</h6>
                </div>
              </div>
            </div>
          </div>
          <div class="w-64 bg-white border card2">
            <div class="p-4">
              <div class="grid grid-cols-2 titre grid-rows grid-flow-col-3">
                <div></div>
                <div>
                  <h5 class="titre1">Delivery code confirmation</h5>
                  <p class="titre2">Make sure customers acknowledge the delivery with this code</p>
                  <h1>45632</h1>
                </div>
              </div>
            </div>
          </div>
          <div class="w-64 bg-white border card3">
            <div class="p-4">
              <div class="grid grid-cols-2 code grid-rows grid-flow-col-3">
                <div>  </div>
                <div>
                  <h5 class="titre1">Dispatch Rider contact</h5>
                  <p class="titre2">Every time you will change the dispatch rider, the customer will get modified</p>
                  <h5 class="number">+233 279414289 <span><ic-icon size="20px" (click)='onDisplayInput()' [icIcon]="icEdit"></ic-icon></span> </h5>
                  <mat-form-field appearance="legacy" *ngIf="displayPhoneInput">
                    <input matInput type="text" formControlName="newDeliveryNo" />
                    <span matPrefix>{{ prefixCountryCode }}</span>
                    <mat-error *ngIf="form?.status === 'INVALID'">Please enter a valid phone number
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
















    <!-- <div class="grid grid-cols-2 md:grid-cols-6">
      <div>
        <div class="ml-4">
          <img class="block w-6 h-6 rounded-full" [src]="buyerPhototURL" />
        </div>
      </div>
      <div>
        <div class="-mx-32">
          <span class="text-xs text-gray-300">{{ transactionDetails?.initiator_name }}
            {{ transactionDetails?.initiator_first_name }}</span>
        </div>
        <div class="grid grid-flow-col grid-cols-2 grid-rows-1 gap-8 mt-6">
          <div class="phoneIcone">
            <ic-icon [icIcon]="icPhone" size="20px"></ic-icon>
          </div>
          <div class="-mx-32 -mt-4 phoneNumber">
            <span class="text-xs text-gray-300">
              {{ transactionDetails?.initiator_phone }}
            </span>
          </div>
        </div>
      </div>
      <div>
        <div class="grid grid-flow-col grid-cols-2 grid-rows-1 mt-4">
          <div class="mt-4 -ml-12">
            <ic-icon [icIcon]="icMap" size="20px"></ic-icon>
          </div>
          <div class="mt-2 -ml-10" style="margin-top: 13px">
            <span class="text-xs text-gray-300">
              {{ transactionDetails?.initiator_address }}
            </span>
          </div>
        </div>
      </div>
      <div>
        <div class="grid grid-flow-col grid-cols-2 grid-rows-1 mt-12">
          <div class="-mt-4 -ml-4">
            <ic-icon [icIcon]="icEmail" size="20px"></ic-icon>
          </div>
          <div class="-mt-4 -ml-6">
            <span class="text-xs text-gray-300">
              {{ transactionDetails?.initiator_email }}
            </span>
          </div>
        </div>
      </div>
      <div>
        <div class="grid grid-cols-3 col-end-7 total">
          <div class="mt-2">
            <ic-icon [icIcon]="icLock" size="20px"></ic-icon>
          </div>
          <div class="mt-2 -ml-6 price">
            <h3 class="text-gray-300 text-md">
              {{ transactionDetails?.price }}
              {{ transactionDetails?.currency }}
            </h3>
          </div>
          <div *ngIf="!isCancelled" (click)="openDialog()" class="mt-2 ml-8 priceIcon">
            <ic-icon style="color: rgb(197, 55, 55); cursor: pointer" [icIcon]="icCancel" size="20px"></ic-icon>
          </div>
        </div>
      </div>

    </div>

    <div class="grid grid-flow-col grid-rows-3 mt-2">
      <div class="row-span-2 ">
        <div class='row-span-4'>
          <div class="grid grid-cols-3 p-6 bg-white pb-9">
            <div class="col-span-2">
              <div class="flex mt-4 ml-2">
                <div class="grid grid-flow-col grid-cols-1">
                  <ic-icon class="text-red " [icIcon]="icInfo" size="20px"></ic-icon>
                  <p class="ml-4 text-xs text-gray-300 text-red dark:bg-red">
                    This transaction can only be cancelled by you
                  </p>
                </div>
              </div>
              <div class="flex mt-4 ml-2">
                <div class="grid grid-flow-col grid-cols-1">
                  <ic-icon class="text-red" [icIcon]="icInfo" size="20px"></ic-icon>
                  <p class="ml-8 text-xs text-gray-300 text-red">
                    Custumer must acknowledge receipe of goods with the delivery
                    code this will release the money to your account
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <hr class="mt-4 bg-gray h-0.90 w-900" />
        <table mat-table [dataSource]="dataSource" class="w-full mt-4 px-7" matSort>
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>Item ID</th>
            <td mat-cell *matCellDef="let item">
              {{ item?.item_id }}
            </td>
          </ng-container>
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Item name</th>
            <td mat-cell *matCellDef="let item">
              {{ item?.name }}
            </td>
          </ng-container>
          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Desription</th>
            <td mat-cell *matCellDef="let item">
              {{ item?.description }}
            </td>
          </ng-container>
          <ng-container matColumnDef="qty">
            <th mat-header-cell *matHeaderCellDef>Quantity</th>
            <td mat-cell *matCellDef="let item">{{ item?.items_qty }}</td>
          </ng-container>
          <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef>Total</th>
            <td mat-cell *matCellDef="let item">
              {{ item?.price }}
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data Data Found!</td>
          </tr>
        </table>
        <div>
        </div>
        <div class="grid grid-cols-2 mt-2 text-left">
          <div>
            <h6 class="ml-4">Amount in Escrow</h6>
          </div>
          <div class="totalT">
            <ic-icon style="color: rgb(75, 75, 214);position: relative;right: 10px;" [icIcon]="icLock" size="20px">
            </ic-icon>
            <h6 class="text-center">
              {{ totalAmount }}
              {{ transactionDetails?.currency }}
            </h6>
          </div>
        </div>
      </div>
      <div class="row-span-2">
        <div class="grid h-64 grid-flow-col grid-rows-2 gap-4">
          <div>
            <div>
              <h6 class="text-center w-100 ">
                Delivery code confirmation
              </h6>
              <div>
                <h3 class="mt-10 text-center w-100">
                  {{ transactionDetails?.release_code }}
                </h3>
              </div>
            </div>
          </div>
          <div>
            <div>
              <h6 class="text-center w-100">Dispatch Rider contact</h6>
              <p class="text-xs text-center text-gray-300 w-100">
                Every time you will change the dispatch rider,the
                custumer will get modified
              </p>
            </div>
            <div [formGroup]="form" *ngIf="displayPhoneInput" class="mt-4 "
              style="width: 20px;position: relative;left: 36px;">
              <p>
                <mat-form-field appearance="legacy">
                  <input matInput type="text" formControlName="newDeliveryNo" />
                  <span matPrefix>{{ prefixCountryCode }}</span>
                  <mat-error *ngIf="form?.status === 'INVALID'">Please enter a valid phone number
                  </mat-error>
                </mat-form-field>
              </p>
              <div>
                <button mat-raised-button style="width: 180px" color="primary" (click)="updateDeliveryPhone()"
                  [disabled]="form?.status === 'INVALID'">
                  Change
                </button>
              </div>
            </div>
            <div class="grid grid-flow-col grid-cols-1 mt-4 text-center" *ngIf="!displayPhoneNumber">
              <h5 class="mr-8 text-gray-300 text-md"> {{ transactionDetails?.delivery_phone }}</h5>
              <ic-icon [icIcon]="icEdit" (click)="onDisplayInput()"
                style="cursor: pointer; color: rgb(75, 75, 214);position: relative;left: -70px;" size="20px"></ic-icon>
            </div>
          </div>
        </div>
      </div>
    </div>  -->

  </vex-page-layout-content>
</vex-page-layout>